# Discord Bot -- Stock & Cryptocurrency Notifications

A bot based on Discord API and written in Python v3.9.2.
The bot is equipped with some basic commands, but is overall meant to provide notifications and information to a Discord user regarding stock and/or cryptocurrency information.

- Author: Aiden Zepp
- 'README.md' file updated as of: 18 March, 2021.

#

## Features

- Use various test commands to confirm bot is working.
- Stores the information of each user upon joining the server, along with commands to add a user to the system or view a user's information.
- Displays the information of the server.
- Fetches and stores cryptocurrency data from [CoinMarketCap](https://coinmarketcap.com/).
- Displays information about the top five ranked cryptocurrencies, ranked by [CoinMarketCap](https://coinmarketcap.com/).
- Displays information about one or multiple different cryptocurrencies, specified by the user.
- Adds information about one or multiple different cryptocurrencies, specified by the user, to the bot's stored information of the user.
- Compares the most recent cryptocurrency data to information of matching cryptocurrencies stored in the user's file.

#

## Tech

- [Discord API] - necessary for creating a Discord bot
- [CoinMarketCap API] - API responsible for cryptocurrency information
- [Visual Studio Code] - code editor used in creation of the bot's code. 

#

## Installation

This Discord bot requires [Python](https://www.python.org/) v3.9+ to run. Click [here](https://www.python.org/downloads/) to download the latest version of Python.

To install the Discord API, the instructions within the [Rapptz/discord.py Github](https://github.com/Rapptz/discord.py) 'README' file was used. 

For a quick installation on a Windows 10 device, open the Windows 10 'Command Prompt' and enter the following into the terminal:
```sh
py -3 -m pip install -U discord.py
```

--

In order to retrieve data and push out information via **CoinMarketCap**, the [Requests](https://pypi.org/project/requests/) Python library must be installed.

For a quick installation on a Windows 10 device, open the Windows 10 'Command Prompt' and enter the following into the terminal:
```sh
python -m pip install requests
```
> **Note:** the author of this code encountered an 'module not found' error (using 'Visual Studio Code'); the solution was to change the Python PATH used, found in the bottom left of VSCode.

--

The bot's code uses a `.gitignore` file to hide files containing unnecessary or sensitive information. If the `.gitignore` file is needed, below are the steps to create and format the `.gitignore` file. If it's not needed, files can still be accessed by the bot without a problem, however, the files won't be shown in this GitHub repository.
1. Inside the directory that's also storing the `.git` folder, `src` folder, and `README.md` file, create a new, blank text file and name it `.gitignore`.
2. Access the `.gitignore` file using the default Windows 10 application 'Notepad', or any other text editor application.
3. In the `.gitignore` file, type the directory path for each unnecessary or information-sensitive file. Make certain to type each file's directory path on a separate line. For example:
```sh
1   src/hidden
2   src/cogs/__psycache__
```

For the example above, `src/hidden` is a folder named `hidden` that is being stored in the `src` directory. For this source code, all files being hidden by `.gitignore` were stored in `src/hidden`, as long as they were able to be stored in `src/hidden`. The `secrets.json` file stored within the `hidden` folder is holding information for the API keys, used for both the Discord API and the CoinMarketCap API. Below shows the format used for the source `secrets.json` file.
```sh
1   {
2      "keys": {
3         "discord": "EXAMPLE_KEY",
4         "coinmarketcap": "EXAMPLE_KEY"
5      },
6      "server": {
7         "name": "EXAMPLE_SERVER_NAME",
8         "id": "EXAMPLE_SERVER_ID",
9         "prefix": "EXAMPLE_PREFIX",
10        "datastartup": boolean_value
11     }
12  }
```
- The keys for Discord and CoinMarketCap -- seen as `"EXAMPLE_KEY"` in the example above -- would be replaced with API keys generated by the individual intending to use this Discord bot.
- The server's name -- seen as `"EXAMPLE_SERVER_NAME"` in the example above -- would be replaced with the name of the server that the bot is being used in (bot was only needed by the author to be used in one server).
- The server's ID -- seen as `"EXAMPLE_SERVER_ID"` in the example above -- would be replaced with the ID of the server that the bot is being used in (bot was only needed by the author to be used in one server).
- The bot's command prefix -- seen as `"EXAMPLE_PREFIX"` in the example above -- would be replaced with the character(s) used to call the bot's commands.
- The data-startup preference -- seen as `boolean_value` in the example above -- would be replaced with the `true` or `false` value for whether the bot should load up the *CoinMarketCap* data on startup.

#

## Generating API Keys
To generate an API key from either *Discord* or *CoinMarketCap*, follow the procedures below.

#### Discord:
1. Visit [discord.com](https://discord.com/) and log in or create a new account.
2. If you're redirected to Discord's web-browser version of the Discord app, go back to Discord's main site (link above).
3. Scroll down to the site's footer and click the *Developers* link found under the *Resources* section.
4. Upon the *Developers* site loading, click the *Applications* link in the top-left corner.
5. In the top-right corner, click the *New Application* button.
6. For further help understanding how to create and use a Discord bot, click [here](https://www.youtube.com/watch?v=nW8c7vT6Hl4) to be redirected to a video explaining the process.

#### CoinMarketCap:
1. Visit [coinmarketcap.com/api/](https://coinmarketcap.com/api/) and log in or create a new account.
2. In the *Dashboard* overview, look for the top-left *API Key* section.
3. Under this section, hover over the image of asterisks and click the button labeled *Copy Key*.

# 

## Necessary Files:
These files are necessary for the bot to function properly. 

#### 'secrets.json':
- **PATH:** *src/hidden/*
- **Type:** *file*

#### 'ALL_USERS_INFO':
- **PATH:** *src/hidden/*
- **Type:** *folder*
- **Child Folders/Files:**
    - Contains all user files for the members in the server.
    - All user files are named based on the corresponding member's Discord ID.

#### 'CMC_DATA':
- **PATH:** *src/hidden/*
- **Type:** *folder*
- **Child Folders/Files:** 
    1. *CMC_DATA.json*: stores the data retrieved from *CoinMarketCap*.
    2. *CMC_DATA_REQUEST.json*: stores the necessary information (URL request link, parameters, etc.) for the CoinMarketCap data request process.

###### 'CMC_DATA.json':
- **PATH:** *src/hidden/CMC_DATA/*
- **Type:** *file*

###### 'CMC_DATA_REQUEST.json':
- **PATH:** *src/hidden/CMC_DATA/*
- **Type:** *file*
- **Format Reference:**
```sh
{
    "requestinfo": {
        "url": "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest",
        "parameters": {
            "start": "1",
            "limit": "LIMIT_VALUE",
            "convert": "REAL_WORLD_CURRENCY"
        },
        "headers": {
            "Accepts": "application/json",
            "X-CMC_PRO_API_KEY": "API_KEY"
        },
        "filepath": "src/hidden/CMC_DATA/CMC_DATA.json",
    }
}
```
> **Note:** `LIMIT_VALUE` would be replaced with the number of cryptocurrencies that should be stored (leave in string form; look at the **FAQ**'s section about setting *limit*); `REAL_WORLD_CURRENCY` would be replcaed with the real world currency code desired (e.g. USD, EUR, CNY); `API_KEY` would be replaced with the CoinMarketCap API key.

#

## List of Commands:

Each command is either within the main `bot.py` file or within a cog file. The type of file for each section header is depicted by **[MAIN]** (representing commands within the main `bot.py` file) or **[COG]** (representing commands within its respective cog file).

#### [MAIN] Bot:
- `load`
    - **Aliases:** *n/a*
    - **Attributes:** *extension*
        - *extension*: the name of the cog trying to be loaded, without the file-type suffix; for example, trying to manually load the `test` cog (`test.py` file) would mean using `{Insert Prefix Here}load test`, as opposed to using `{Insert Prefix Here}load test.py`.
    - **Description:** loads a cog into the bot's program; doing so means a cog, along with all of the code it contains, can now be used by the bot.

- `unload`
    - **Aliases:** *n/a*
    - **Attributes:** *extension*
        - *extension*: the name of the cog trying to be unloaded, without the file-type suffix; for example, trying to manually unload the `test` cog (`test.py` file) would mean using `{Insert Prefix Here}unload test`, as opposed to using `{Insert Prefix Here}unload test.py`.
    - **Description:**: unloads a cog from the bot's program; doing so means a cog, along with all of the code it contains, can no longer be used by the bot.

- `reload`
    - **Aliases:** *n/a*
    - **Attributes:** *extension*
        - *extension*: the name of the cog trying to be reloaded, without the file-type suffix; for example, trying to manually reload the `test` cog (`test.py` file) would mean using `{Insert Prefix Here}reload test`, as opposed to using `{Insert Prefix Here}reload test.py`.
    - **Description:** reloads a cog from the bot's program; doing so means a cog, along with all of the code it contains, momentarilly cannot be used until the bot has finished loading the cog back in.

--

#### [COG] Test:
- `test`
    - **Aliases:** *n/a*
    - **Attributes:** *n/a*
    - **Description:** sends a message saying "*Command heard. Test successful.*" to the channel it was called in.

- `emoji_test`
    - **Aliases:** `emoji`
    - **Attributes:** *n/a*
    - **Description:** sends a message of the white check mark emoji (Emoji Syntax = :white_check_mark:) to the channel it was called in.

- `embed_test`
    - **Aliases:** `embed`
    - **Attributes:** *n/a*
    - **Description:** sends a message in the embed form to the channel it was called in, containing an example of each section that can be added to it (e.g. '.set_author', '.add_field'); includes an example of added fields with the 'inline' attribute being set to 'True' and fields set to 'False'.
        > **Note:** The bot's `embed_test` command does not have a `color / colour` attribute set within `discord.Embed()`. To add a color to the embed message, type a comma after the `description` attribute within `discord.Embed()` and set the `color / colour` attribute to the desired color. `color` and `colour` are the same, and are simply just aliases of each other. 
   
    - This command is used by the author generally as a quick reference guide of the various add-ons an embed message can have, and what arguments each one takes. Click [here](https://discordpy.readthedocs.io/en/latest/api.html#embed) to visit Discord's API Reference for an 'Embed'.
    
- `servertest`
    - **Aliases:** *n/a*
    - **Attributes:** *n/a*
    - **Description**: sends a message to the channel it was called in, containing the type of the 'Helper' class's `self.server` content.
    - This command is used by the author generally as a way to check and/or confirm that the 'Helper' class's `self.server` is working as intended.

--

#### [COG] Information:
- `server_info`
    - **Aliases:** `serverinfo`, `s-info`, `guild`, `guild`, `guildinfo`
    - **Attributes:** *n/a*
    - **Description:** sends a message in the embed form to the channel it was called in, containing information about the Discord server the bot is in.
    - The information displayed is as follows:
        1. Name of Server
        2. Description of Server
        3. Owner
        4. ID of Server
        5. Region
        6. Member Count
        7. Icon of Server

- `add_user_info`
    - **Aliases:** `add-user-info`, `add-uinfo`, `adduser`
    - **Attributes:** *target: Optional[Member]*
        - *target*: takes an **optional** [`discord.Member`](https://discordpy.readthedocs.io/en/latest/api.html#member) object as the attribute; simply @ the user -- as would normally be done when trying to tag a user in Discord -- along with the command (e.g. "{Insert Prefix Here}add_user_info @ExampleUser#0000").
            > **Note:** if no `target` is specified, the `target` will automatically become the author of the command call (the author of the message).

    - **Description:** this command will take the information of the user targeted with the command and creates a new file containing their information in **'src/hidden/ALL_USERS_INFO'**, with their ID as the file name (e.g. '{Target's ID}.json'); the command sends a message in the embed form to the channel it was called in, containing all the same information that was stored in the above file.

    - The information stored and displayed is as follows:
        1. Display Name
        2. Discriminator
        3. ID
        4. Mention (the string used to mention the user)
        5. Nickname (the string form of the nickname a user has chosen for the server)
        6. Colour (a 'colour' object that has been stored in the file as a string)
        7. Joined At (a 'datetime' object that has been stored in the file as a string)
    - For more information on the **discord.Member** object, click [here](https://discordpy.readthedocs.io/en/latest/api.html#member) to visit Discord’s API Reference for a ‘Member’.

- `see_user_info`
    - **Aliases:** `see-user-info`, `see-uinfo`, `seeuser`
    - **Attributes:** *target: Optional[Member]*
        - *target*: takes an **optional** [`discord.Member`](https://discordpy.readthedocs.io/en/latest/api.html#member) object as the attribute; simply @ the user -- as would normally be done when trying to tag a user in Discord -- along with the command (e.g. "{Insert Prefix Here}see_user_info @ExampleUser#0000").
            > **Note:** if no `target` is specified, the `target` will automatically become the author of the command call (the author of the message).

    - **Description:** sends a message in the embed form to the channel it was called in, containing the information of the user targeted; if the user can't be found in the directory **'src/hidden/ALL_USERS_INFO'**, the commands sends an error message in the embed form to the channel it was called in, stating that the user could not be found and to try using the `adduser` command to add the user to the system.
        > **Note:** any cryptocurrency information stored within the user's information is not displayed.
        
    - The information stored and displayed is as follows:
        1. Display Name
        2. Discriminator
        3. ID
        4. Mention (the string used to mention the user)
        5. Nickname (the string form of the nickname a user has chosen for the server)
        6. Colour (a 'colour' object that has been stored in the file as a string)
        7. Joined At (a 'datetime' object that has been stored in the file as a string)
    - For more information on the **discord.Member** object, click [here](https://discordpy.readthedocs.io/en/latest/api.html#member) to visit Discord’s API Reference for a ‘Member’.

--

#### [COG] Stocks:
- `force_load_cmc_data`
    - **Aliases:** `cmc-force`, `data-force`, `load-cmcdata`
    - **Attributes:** *n/a*
    - **Description:** manually does the process of loading the data from *CoinMarketCap* into the ***Stock*** class's `self.data`; sends a message in the embed form to the channel it was called in, stating that the data has been loaded.

- `crypto_top_5`
    - **Aliases:** `crypto-top5`, `crypto-5`, `c-top5`
    - **Attributes:** *n/a*
    - **Description:** sorts through the data obtained from *CoinMarketCap* to retrieve information of *CoinMarketCap's* top five cryptocurrencies; sends a message in the embed form to the channel it was called in, displaying information for each of the top five cryptocurrencies.
        - *CoinMarketCap* provides each cryptocurrency a ranking, and the rank of each cryptocurrency can be found within the data retrieved from *CoinMarketCap*.
    - The information displayed is as follows:
        1. Name
        2. Symbol
        3. Price (source code is set to USD; rounded to 2 decimal places)
        4. Last Updated
    
- `see_crypto_info`
    - **Aliases:** `see-crypto-info`, `see-cinfo`, `seecrypto`
    - **Attributes:** **args*
        - **args*: takes all characters passed after the command name and searches the cryptocurrency data for cryptocurrencies with matching symbols; sends a message in the embed form to the channel it was called in, displaying information for each cryptocurrency requested.
            > **Note:** the input symbols are **not** case-sensitive, though they will need to have only **one** space in between each currency; if any characters **not** in A-Z or a-z are part of the request, the symbol who has one of these characters will be returned with the error embed message.

    - **Description:** sorts through the data obtained from *CoinMarketCap* to retrieve information on cryptocurrencies with symbols matching any or all of the symbols requested; sends a message in the embed form to the channel it was called in, displaying information for each of the cryptocurrencies requested.
        - If any symbols are not found in the data, an error embed message will be sent stating which of the cryptocurrency symbols requested could not be found. If a symbol is requested for that is definitely a cryptocurrency's symbol, the `limit` set in the ***Stock*** class's `__init__()` may be set too low. For more information on this matter, visit the **FAQ** section within this *'README'* file.
    - The information displayed is as follows:
        1. Name
        2. Symbol
        3. ID
        4. Price (source code is set to USD; rounded to 2 decimal places)
        5. 24 Hour Volume (source code is set to USD)
        6. Date Added
        7. Rank on *CoinMarketCap*
        8. Number of Market Pairs
        9. Total Supply
        10. Circulating Supply
        11. Maximum Supply
        12. Last Updated

- `add_crypto_to_uinfo`
    - **Aliases:** `add-crypto`, `add-c`, `addcrypto`
    - **Attributes:** *target: Optional[Member]*, **args*
        - *target*: takes an **optional** [`discord.Member`](https://discordpy.readthedocs.io/en/latest/api.html#member) object as the attribute; simply @ the user -- as would normally be done when trying to tag a user in Discord -- along with the command (e.g. "{Insert Prefix Here}see_user_info @ExampleUser#0000").
            > **Note:** if no `target` is specified, the `target` will automatically become the author of the command call (the author of the message).

        - **args*: takes all characters passed after the command name and searches the cryptocurrency data for cryptocurrencies with matching symbols; sends a message in the embed form to the channel it was called in, displaying information for each cryptocurrency requested.
            > **Note:** the input symbols are **not** case-sensitive, though they will need to have only **one** space in between each currency; if any characters **not** in A-Z or a-z are part of the request, the symbol who has one of these characters will be returned with the error embed message.

    - **Description:** sorts through the data obtained from *CoinMarketCap* to retrieve information on cryptocurrencies with symbols matching any or all of the symbols requested, and then adds those cryptocurrencies' information to the user's information in the `src/hidden/ALL_USERS_INFO` directory; sends a message in the embed form to the channel it was called in, displaying a list of the cryptocurrencies requested and added to the user's information.
        - If any symbols are not found in the data, an error embed message will be sent stating which of the cryptocurrency symbols requested for that could not be found. If a symbol is requested for that is definitely a cryptocurrency's symbol, the `limit` set in the ***Stock*** class's `__init__()` may be set too low. For more information on this subject, visit the **FAQ** section within this *'README'* file.

- `compare_crypto_to_uinfo`
    - **Alliases:** `compare-crypto`, `compare-c`, `comparecrypto`, `compcryp`
    - **Attributes:** *target: Optional[Member]*, **args*
        - *target*: takes an **optional** [`discord.Member`](https://discordpy.readthedocs.io/en/latest/api.html#member) object as the attribute; simply @ the user -- as would normally be done when trying to tag a user in Discord -- along with the command (e.g. "{Insert Prefix Here}see_user_info @ExampleUser#0000").
            > **Note:** if no `target` is specified, the `target` will automatically become the author of the command call (the author of the message).

        - **args*: takes all characters passed after the command name and searches the cryptocurrency data for cryptocurrencies with matching symbols; sends a message in the embed form to the channel it was called in, displaying information for each cryptocurrency requested.
            > **Note:** the input symbols are **not** case-sensitive, though they will need to have only **one** space in between each currency; if any characters **not** in A-Z or a-z are part of the request, the symbol who has one of these characters will be returned with the error embed message.
            
    - **Description:** sorts through the data obtained from *CoinMarketCap* to retrieve information on cryptocurrencies with symbols matching any or all of the symbols requested, and then compares those cryptocurrencies' information to the user's information in the `src/hidden/ALL_USERS_INFO` directory; sends a message in the embed form to the channel it was called in, displaying statistical information of the cryptocurrencies requested compared to the cryptocurrency information in the user's information file.
        - If any symbols are not found in the data, an error embed message will be sent stating which of the cryptocurrency symbols requested for that could not be found. If a symbol is requested for that is definitely a cryptocurrency's symbol, the `limit` set in the ***Stock*** class's `__init__()` may be set too low. For more information on this subject, visit the **FAQ** section within this *'README'* file.

#

## FAQ

##### ***Q: What are the 'confirmations' when starting up the bot?***

When starting up the bot, text will be printed to the terminal asking 'Yes' or 'No' questions about the startup process. The bot references stored preferences from the `secrets.json` file, and it displays the current settings before asking any questions.

- `1. Run Confirmations?`
    - **Description:** question simply asks whether the bot should run through the confirmation questions before fully starting up and activating the bot.
    - **Response:** *Y*/*Yes* or *N*/*No*
        > **Note:** if the response entered is in the form of 'No', then the bot will load everything using the settings stored.

- `2. Start the bot?`
    - **Description:** confirms that the bot is intended to start up; primarily used as a safety feature so that the bot's startup process can be exited.
    - **Response:** *Y*/*Yes* or *N*/*No*
        > **Note:** if the response entered is in the form of 'No', then the bot will immediate exit the startup process.

- `3. Prefix?`
    - **Description:** confirms that the bot's command prefix stored should remain as the prefix.
    - **Response:** *Y*/*Yes* or *N*/*No*
        > **Note:** if the response entered is in the form of 'No', then the bot will ask what the new prefix should be.

- `4. Change Prefix`
    - **Description:** only appears if the question above has a response entered in the form of 'No'; asks what character(s) the bot's command prefix should be set to.
    - **Response:** the character(s) the bot's command prefix should be set to. 

- `5. Prefix Permanence?`
    - **Description:** asks whether the newly set prefix should be a permanent change.
    - **Response:** *Y*/*Yes* or *N*/*No*
        > **Note:** if the response entered is in the form of 'No', then the bot will keep the prefix stored in the `secrets.json` file and will continue using that stored prefix the next time the bot is started up.

- `6. Load Data on Startup?`
    - **Description:** confirms whether the bot should or should not load the data from CoinMarketCap on startup.
    - **Response:** *Y*/*Yes* or *N*/*No*
        > **Note:** as it states in the terminal, the response entered will be stored permanently; if the response entered is in the form of 'No', then the bot will **not** load the data on startup.

--

##### ***Q: How do I set and/or use the Discord API key?***

If the name of the JSON file containing the API keys is a different name than `secrets.json`, be sure to change the filepath within the `# -- Load Discord API Key --` section; the code referenced can be found below.
```sh
# -- Load Discord API Key --
with open('src/hidden/secrets.json') as f: 
    secrets = json.load(f)
    keys = secrets['keys']
```

Within the parentheses of `open()` in the code above, enter the filepath being used to store the keys. In the code above taken from the source code, the filepath is `src/hidden/secrets.json`. For example, if only the file's name was changed and it was changed to `keys.json`, the code would look like the example code below.
```sh
# -- Load Discord API Key --
with open('src/hidden/keys.json') as f: 
    secrets = json.load(f)
    keys = secrets['keys']
```

Once the file storing the API keys has been created and the filepath is correct (instructions in the examples above), format the file as seen in **Installation** section of this *'README'* file or in the example code below.
```sh
1   {
2       "keys": {
3           "discord": "EXAMPLE_KEY",
4           "coinmarketcap": "EXAMPLE_KEY"
5       },
...
```
> **Note:** the keys for Discord and CoinMarketCap -- seen as `"EXAMPLE_KEY"` in the example above -- would be replaced with API keys generated by the individual intending to use this Discord bot.

--

##### ***Q: How do I change the command prefix?***

To change the command prefix, change the text in between the single quotations of the code below (found in the `secrets.json` file, stored within the "prefix" key).
```sh
1   {
2      "keys": {
3         "discord": "EXAMPLE_KEY",
4         "coinmarketcap": "EXAMPLE_KEY"
5      },
6      "server": {
7         "name": "EXAMPLE_SERVER_NAME",
8         "id": "EXAMPLE_SERVER_ID",
9         "prefix": "EXAMPLE_PREFIX",
10        "datastartup": boolean_value
11     }
12  }
```
> **Note:** changing the prefix would mean changing the `"prefix"` key's value, which in the above code is set to `"EXAMPLE_PREFIX"`.

If the command prefix needed to be `!`, the code below is an example of what the code would look like.
```sh
1   {
2      "keys": {
3         "discord": "EXAMPLE_KEY",
4         "coinmarketcap": "EXAMPLE_KEY"
5      },
6      "server": {
7         "name": "EXAMPLE_SERVER_NAME",
8         "id": "EXAMPLE_SERVER_ID",
9         "prefix": "!",
10        "datastartup": boolean_value
11     }
12  }
```
> If the `secrets.json` file uses the above example line of code, commands will only be able to get called using `!` as the prefix. For example, the `test` command would be called by a user by typing `!test`.

A secondary method for changing the bot's prefix is to run confirmations on startup. For more information on this, visit the question regarding 'startup confirmations' in the **FAQ** section of this *'README'* file.

--

##### ***Q: How do I set the bot to retrieve the CoinMarketCap data on startup?***

To change the data-startup preference, change the boolean value in the code below (found in the `secrets.json` file, stored within the "prefix" key).
```sh
1   {
2      "keys": {
3         "discord": "EXAMPLE_KEY",
4         "coinmarketcap": "EXAMPLE_KEY"
5      },
6      "server": {
7         "name": "EXAMPLE_SERVER_NAME",
8         "id": "EXAMPLE_SERVER_ID",
9         "prefix": "!",
10        "datastartup": boolean_value
11     }
12  }
```
> **Note:** a boolean value of `true` will make the bot load the CoinMarketCap data on startup, and a value of `False` will make the bot **not** load the CoinMarketCap data on startup.

If the data-startup preference needed to be set to `true`, the code below is an example of what the code would look like.
```sh
1   {
2      "keys": {
3         "discord": "EXAMPLE_KEY",
4         "coinmarketcap": "EXAMPLE_KEY"
5      },
6      "server": {
7         "name": "EXAMPLE_SERVER_NAME",
8         "id": "EXAMPLE_SERVER_ID",
9         "prefix": "!",
10        "datastartup": true
11     }
12  }
```
> If the `secrets.json` file uses the above example line of code, the bot will load up the CoinMarketData on startup.

A secondary method for changing the bot's data-startup preference is to run confirmations on startup. For more information on this, visit the question regarding 'startup confirmations' in the **FAQ** section of this *'README'* file.

--

##### ***Q: How do I change the `limit` set for the CoinMarketCap data?***

The `limit` determines the number of cryptocurrencies stored in the cryptocurrencies' data file. The `limit` does not affect how much of the information within a stored cryptocurrency is retrieved.

Each cryptocurrency has a rank provided by *CoinMarketCap*. The `limit` sets the bot to retrieve information of the cryptocurrencies with ranks of 1 through the value assigned to `limit`.
> For example, if the `limit` is set to **'5000'**, the data would retrieve the information of the cryptocurrencies ranked from **1 to 5000**.

To change the `limit`, find and open the `CMC_DATA_REQUEST.json` file from the path `src/hidden/CMC_DATA/CMC_DATA_REQUEST.json`. Locate the `"limit"` key, which can be seen in the example code below. 
```sh
1   {
2      "requestinfo": {
3         "url": "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest",
4         parameters: {
5            "start": "1",
6            "limit": "EXAMPLE_LIMIT_VALUE",
7            "convert": "EXAMPLE_CURRENCY_CODE"
8         },
...
```

For the '"limit"' key, change the value assigned to it with a value for how many cryptocurrencies should have their information stored into the `CMC_DATA.json` file. The code below is an example of what the code would look like.
```sh
1   {
2      "requestinfo": {
3         "url": "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest",
4         parameters: {
5            "start": "1",
6            "limit": "100",
7            "convert": "EXAMPLE_CURRENCY_CODE"
8         },
...
```
> If the `CMC_DATA_REQUESTS.json` file uses the above example code, the amount of data retrieved from CoinMarketCap would be limited to the cryptocurrencies from ranks 1-100.

--

##### ***Q: How do I change the currency that the cryptocurrencies are converted to?***

The `convert` determines the 'real-world' currency that the cryptocurrencies are converted to. This becomes relevant when accessing certain details, such as the `price`, of a cryptocurrency's information within the data.

*CoinMarketCap* base-level accounts that are using API keys are only able to convert a single real-world currency at a time. An upgraded *CoinMarketCap* account would be needed in order to use `convert` with more than one real-world currency.

To change the `convert`, find and open the `CMC_DATA_REQUEST.json` file from the path `src/hidden/CMC_DATA/CMC_DATA_REQUEST.json`. Locate the `"convert"` key, which can be seen in the example code below. 
```sh
1   {
2      "requestinfo": {
3         "url": "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest",
4         parameters: {
5            "start": "1",
6            "limit": "EXAMPLE_LIMIT_VALUE",
7            "convert": "EXAMPLE_CURRENCY_CODE"
8         },
...
```

For the '"convert"' key, change the value assigned to it with a real-world currency code (e.g. USD, EUR, CNY). The code below is an example of what the code would look like.
```sh
1   {
2      "requestinfo": {
3         "url": "https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest",
4         parameters: {
5            "start": "1",
6            "limit": "EXAMPLE_LIMIT_VALUE",
7            "convert": "USD"
8         },
...
```
> If the `CMC_DATA_REQUESTS.json` file uses the above example code, each cryptocurrency would contain information relating to the conversion to USD; this is with the assumption that the `"start"` and `"limit"` keys' values were assigned to actual values.

#

## Development

Want to contribute opinions, ideas, or other related items about this Discord bot? 

Please contact the author via email:
> <aiden.zepp@gmail.com>

#

## License

This software is free to use. The author is not responsible for any implementations of the source code upon the code being altered.

   [Discord API]: <https://discord.com/developers/docs/intro>
   [CoinMarketCap API]: <https://coinmarketcap.com/api/documentation/v1/#>
   [Visual Studio Code]: <https://code.visualstudio.com/>

